(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{490:function(e,s,r){"use strict";r.r(s);var t=r(3),a=Object(t.a)({},(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("Boxx"),e._v(" "),r("p",[e._v("本教程使用的linux是Centos7,离线安装使用的是docker20.9.10")]),e._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#在线安装"}},[e._v("在线安装")])]),r("li",[r("a",{attrs:{href:"#离线安装"}},[e._v("离线安装")]),r("ul",[r("li",[r("a",{attrs:{href:"#_1-下载docker20-9-10以及相关依赖"}},[e._v("1. 下载docker20.9.10以及相关依赖")])]),r("li",[r("a",{attrs:{href:"#_2-安装docker以及依赖包"}},[e._v("2. 安装docker以及依赖包")])]),r("li",[r("a",{attrs:{href:"#_3-配置docker加速器"}},[e._v("3. 配置docker加速器")])]),r("li",[r("a",{attrs:{href:"#_4-验证，查看版本"}},[e._v("4. 验证，查看版本")])])])]),r("li",[r("a",{attrs:{href:"#docker-compose-离线安装"}},[e._v("docker-compose 离线安装")]),r("ul",[r("li",[r("a",{attrs:{href:"#_1-下载docker-compose"}},[e._v("1. 下载docker-compose")])]),r("li",[r("a",{attrs:{href:"#_2-添加docker-compose命令到全局"}},[e._v("2. 添加docker-compose命令到全局")])]),r("li",[r("a",{attrs:{href:"#_3-查询docker-compose版本"}},[e._v("3. 查询docker-compose版本")])])])])])]),r("p"),e._v(" "),r("h2",{attrs:{id:"在线安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#在线安装"}},[e._v("#")]),e._v(" 在线安装")]),e._v(" "),r("h2",{attrs:{id:"离线安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#离线安装"}},[e._v("#")]),e._v(" 离线安装")]),e._v(" "),r("h3",{attrs:{id:"_1-下载docker20-9-10以及相关依赖"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载docker20-9-10以及相关依赖"}},[e._v("#")]),e._v(" 1. 下载docker20.9.10以及相关依赖")]),e._v(" "),r("p",[r("em",[e._v("如果之前装过docker请卸载干净")])]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("yum remove docker docker-common docker-selinux docker-engine\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("ul",[r("li",[r("a",{attrs:{href:"https://zlhy7.lanzoul.com/i2vSbz22czg",target:"_blank",rel:"noopener noreferrer"}},[e._v("各种包下载地址"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("wget直链下载，推荐这个")])]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://mirrors.aliyun.com/docker-ce/linux/centos/7.9/x86_64/stable/Packages/docker-ce-20.10.9-3.el7.x86_64.rpm\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://mirrors.aliyun.com/centos/7/extras/x86_64/Packages/container-selinux-2.119.2-1.911c772.el7_8.noarch.rpm\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://mirrors.aliyun.com/docker-ce/linux/centos/7.9/x86_64/stable/Packages/containerd.io-1.4.9-3.1.el7.x86_64.rpm\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://mirrors.aliyun.com/docker-ce/linux/centos/7.9/x86_64/stable/Packages/docker-ce-cli-20.10.9-3.el7.x86_64.rpm\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://mirrors.aliyun.com/docker-ce/linux/centos/7.9/x86_64/stable/Packages/docker-ce-rootless-extras-20.10.9-3.el7.x86_64.rpm\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://mirrors.aliyun.com/docker-ce/linux/centos/7.9/x86_64/stable/Packages/docker-scan-plugin-0.12.0-3.el7.x86_64.rpm\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" http://mirror.centos.org/centos/7/extras/x86_64/Packages/fuse-overlayfs-0.7.2-6.el7_8.x86_64.rpm\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" http://mirror.centos.org/centos/7/extras/x86_64/Packages/slirp4netns-0.4.3-4.el7_8.x86_64.rpm\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/f/fuse3-libs-3.6.1-2.el7.x86_64.rpm\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br")])]),r("h3",{attrs:{id:"_2-安装docker以及依赖包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装docker以及依赖包"}},[e._v("#")]),e._v(" 2. 安装docker以及依赖包")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("rpm")]),e._v(" -ivh fuse3-libs-3.6.1-2.el7.x86_64.rpm slirp4netns-0.4.3-4.el7_8.x86_64.rpm "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\nfuse-overlayfs-0.7.2-6.el7_8.x86_64.rpm docker-scan-plugin-0.12.0-3.el7.x86_64.rpm "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\ncontainer-selinux-2.119.2-1.911c772.el7_8.noarch.rpm "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\ncontainerd.io-1.4.9-3.1.el7.x86_64.rpm docker-ce-cli-20.10.9-3.el7.x86_64.rpm "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\ndocker-ce-rootless-extras-20.10.9-3.el7.x86_64.rpm docker-ce-20.10.9-3.el7.x86_64.rpm \n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br")])]),r("h3",{attrs:{id:"_3-配置docker加速器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置docker加速器"}},[e._v("#")]),e._v(" 3. 配置docker加速器")]),e._v(" "),r("p",[e._v("这里我用的是自己的阿里云镜像加速服务，也可以使用其他镜像加速服务，"),r("a",{attrs:{href:"https://www.jianshu.com/p/5a911f20d93e",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考地址"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("直接复制以下命令到终端执行即可")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 因为还没有启动docker，所以配置文件目录以及文件还没创建，手动创建下")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" -p /etc/docker\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("tee")]),e._v(" /etc/docker/daemon.json "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<-")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'EOF\'\n{\n  "registry-mirrors": ["https://7jdhwfuo.mirror.aliyuncs.com"]\n}\nEOF')]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 加载docker配置")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl daemon-reload\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl start docker\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置开机启动")]),e._v("\nsystemctl "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("enable")]),e._v(" docker\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br")])]),r("h3",{attrs:{id:"_4-验证，查看版本"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-验证，查看版本"}},[e._v("#")]),e._v(" 4. 验证，查看版本")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("docker version\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("h2",{attrs:{id:"docker-compose-离线安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-离线安装"}},[e._v("#")]),e._v(" docker-compose 离线安装")]),e._v(" "),r("h3",{attrs:{id:"_1-下载docker-compose"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载docker-compose"}},[e._v("#")]),e._v(" 1. 下载docker-compose")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/docker/compose/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker-compose github-releases"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("官直")]),r("a",{attrs:{href:"https://github.com/docker/compose/releases/download/v2.2.3/docker-compose-linux-x86_64",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker-compose v2.2.3"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("直")]),r("a",{attrs:{href:"https://ghproxy.com/https://github.com/docker/compose/releases/download/v2.2.3/docker-compose-linux-x86_64",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker-compose v2.2.3"),r("OutboundLink")],1),e._v(" ,推荐这个github release代理下载")])]),e._v(" "),r("h3",{attrs:{id:"_2-添加docker-compose命令到全局"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-添加docker-compose命令到全局"}},[e._v("#")]),e._v(" 2. 添加docker-compose命令到全局")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 移动到环境变量目录下")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" docker-compose-linux-x86_64 /usr/bin/docker-compose\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 添加可执行权限")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x /usr/bin/docker-compose\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br")])]),r("h3",{attrs:{id:"_3-查询docker-compose版本"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-查询docker-compose版本"}},[e._v("#")]),e._v(" 3. 查询docker-compose版本")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("docker-compose -v\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("p",[e._v("参考文档:\n"),r("a",{attrs:{href:"https://www.cnblogs.com/leolzi/p/13790536.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考1"),r("OutboundLink")],1),e._v(" | "),r("a",{attrs:{href:"https://www.cnblogs.com/zhangyinhua/p/10286507.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考2"),r("OutboundLink")],1)])],1)}),[],!1,null,null,null);s.default=a.exports}}]);